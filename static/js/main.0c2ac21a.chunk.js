(this["webpackJsonparticcle-redux"]=this["webpackJsonparticcle-redux"]||[]).push([[0],{104:function(e,t,a){e.exports=a(173)},109:function(e,t,a){},110:function(e,t,a){},173:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(31),c=a.n(i),l=(a(109),a(16)),o=a(17),s=a(55),u=a(19),d=a(20),m=(a(110),a(33)),p=a(23),h=a.n(p),E="fetch_article",g="delete_article",f="search_article",v="fetch_category",b=function(e){return function(t){h.a.get("".concat(J,"v1/api/articles?title=").concat(e)).then((function(e){t({type:f,payLoad:e.data.DATA})}))}},A=a(178),y=a(90),O=a(179),k=a(180),L=a(27),j=a(56),w=a(87),I=new(a.n(w).a)({en:{home:"Home",category:"Category",about:"About",khmer:"Khmer",english:"English",titleApp:"Article Management System",title:"TITLE",description:"Description",thumbnail:"THUMBNAIL",action:"ACTION",view:"View",update:"Update",delete:"Delete",addNew:"Add New",submit:"Submit",search:"Search",addNewArtilce:"Add New Article",updateArticle:"Update Article"},kh:{home:"\u1791\u17c6\u1796\u17d0\u179a\u178a\u17be\u1798",category:"\u1794\u17d2\u179a\u1797\u17c1\u1791",about:"\u17a2\u17c6\u1796\u17b8\u179a",khmer:"\u1781\u17d2\u1798\u17c2\u179a",english:"\u17a2\u1784\u17cb\u1782\u17d2\u179b\u17c1\u179f",titleApp:"\u1794\u17d2\u179a\u1796\u1793\u17d2\u1792\u17d0\u1782\u17d2\u179a\u1794\u17cb\u1782\u17d2\u179a\u1784\u1796\u178f\u17d0\u1798\u17b6\u1793",title:"\u1785\u17c6\u178e\u1784\u1787\u17be\u1784",description:"\u1796\u17b7\u1796\u178e\u17cd\u1793\u17b6",thumbnail:"\u179a\u17bc\u1794\u1797\u17b6\u1796",action:"\u179f\u1780\u1798\u17d2\u1798\u1797\u17b6\u1796",view:"\u1794\u1784\u17d2\u17a0\u17b6\u1789",update:"\u1780\u17c2\u1794\u17d2\u179a\u17c2",delete:"\u179b\u17bb\u1794",addNew:"\u1794\u1793\u17d2\u1790\u17c2\u1798\u200b\u17a2\u178f\u17d2\u1790\u1794\u1791",submit:"\u1794\u1789\u17d2\u1785\u17bc\u179b",search:"\u179f\u17d2\u179c\u17c2\u1784\u179a\u1780",addNewArtilce:"\u1794\u1793\u17d2\u1790\u17c2\u1798\u17a2\u178f\u17d2\u1790\u1794\u1791\u1790\u17d2\u1798\u17b8",updateArticle:"\u1780\u17c2\u1794\u17d2\u179a\u17c2\u17a2\u178f\u17d2\u1790\u1794\u1791\u1790\u17d2\u1798\u17b8"}},{}),C=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoading:!1},n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){console.log("Article Loading"),this.props.fetchArticle()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,this.state.isLoading?r.a.createElement(j.BoxLoading,null):null),r.a.createElement(A.a,{className:"App"},r.a.createElement("h1",null,I.titleApp),r.a.createElement("p",null,"MOST POPULAR LEADERSHIP AND MANAGEMENT ARTICLES"),r.a.createElement("p",null,r.a.createElement(L.b,{to:"/addUpdate"},r.a.createElement(y.a,{variant:"primary"},I.addNew)))),r.a.createElement(O.a,null,r.a.createElement(k.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",{style:{width:"20%"}},I.title),r.a.createElement("th",{style:{width:"40%"}},I.description),r.a.createElement("th",null,I.thumbnail),r.a.createElement("th",null,I.action))),r.a.createElement("tbody",null,this.props.articles.map((function(t){return r.a.createElement("tr",{key:t.ID},r.a.createElement("td",null,t.ID),r.a.createElement("td",null,t.TITLE),r.a.createElement("td",null,t.DESCRIPTION),r.a.createElement("td",null,r.a.createElement("img",{src:null===t.IMAGE?"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/1200px-Circle-icons-profile.svg.png":t.IMAGE,width:"80px",height:"80px"})),r.a.createElement("td",null,r.a.createElement(L.b,{to:"/detail/".concat(t.ID)},r.a.createElement(y.a,{variant:"secondary",size:"sm"},I.view)),r.a.createElement(L.b,{to:"/addUpdate/".concat(t.ID)},r.a.createElement(y.a,{variant:"info",size:"sm",className:"mx-2"},I.update)),r.a.createElement(y.a,{variant:"danger",size:"sm",onClick:function(){e.props.deleteArticle(t.ID)}},I.delete)))}))))))}}]),a}(n.Component),T=Object(m.b)((function(e){return{articles:e.articleR.articles}}),{fetchArticle:function(){return function(e){h.a.get("".concat(J,"v1/api/articles?page=1&limit=15")).then((function(t){e({type:E,payLoad:t.data.DATA})}))}},searchArticle:b,deleteArticle:function(e){return function(t){h.a.delete("".concat(J,"v1/api/articles/").concat(e)).then((function(a){t({type:g,payLoad:e})}))}}})(C),D=(a(168),a(184)),N=a(185),S=a(182),M=a(183),R=a(98),x=(a(169),a(170),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).changeLanguage=function(t){I.setLanguage(t),e.props.language(t),e.setState({})},e}return Object(o.a)(a,[{key:"componenpmntWillMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(D.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(O.a,null,r.a.createElement(L.b,{to:"/"},r.a.createElement(D.a.Brand,null,"AMS")),r.a.createElement(D.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(D.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(N.a,{className:"mr-auto"},r.a.createElement(N.a.Link,{as:L.b,to:"/"},I.home),r.a.createElement(N.a.Link,{as:L.b,to:"/Category"},I.category),r.a.createElement(N.a.Link,{as:L.b,to:"/About"},I.about),r.a.createElement(S.a,{title:"Language",id:"collasible-nav-dropdown"},r.a.createElement(S.a.Item,{onClick:function(){e.changeLanguage("kh")}},I.khmer),r.a.createElement(S.a.Item,{onClick:function(){e.changeLanguage("en")}},I.english)),r.a.createElement(N.a.Link,null,"Logout"))),r.a.createElement(M.a,{inline:!0},r.a.createElement(R.a,{type:"text",placeholder:I.search,className:"mr-sm-2",onChange:function(t){e.props.searchArticle(t.target.value)}}),r.a.createElement(y.a,{variant:"outline-info"},I.search)))))}}]),a}(n.Component)),U=Object(m.b)((function(e){return{articles:e.articleR.articles}}),{searchArticle:b})(x),G=a(36),B=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={article:{}},n}return Object(o.a)(a,[{key:"fetchOneArticle",value:function(e){var t=this;h.a.get("".concat(J,"v1/api/articles/").concat(e)).then((function(e){t.setState({article:e.data.DATA})}))}},{key:"formatDate",value:function(){var e=this.state.article.CREATED_DATE+"";return[e.substring(0,4),e.substring(4,6),e.substring(6,8)].join("-")}},{key:"componentWillMount",value:function(){this.fetchOneArticle(this.props.match.params.id)}},{key:"render",value:function(){return r.a.createElement(O.a,null,r.a.createElement("h1",null,this.state.article.TITLE),r.a.createElement("h4",null,"Date : ",this.formatDate()),r.a.createElement("img",{src:this.state.article.IMAGE,width:"100%"}),r.a.createElement("h3",null,"Description : "),r.a.createElement("p",null,this.state.article.DESCRIPTION))}}]),a}(n.Component),F=a(63),P={id:"",title:"",description:"",imageFile:null,imageURL:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/1200px-Circle-icons-profile.svg.png",titleError:"",descriptionError:"",isLoading:!1},W=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).validate=function(){var e="",t="";return n.state.title||(e="Title can not be blank"),n.state.description||(t="Description can not be blank"),!e&&!t||(n.setState({titleError:e,descriptionError:t}),!1)},n.handleFile=function(e){n.setState({imageFile:e.target.files[0]})},n.state=P,n}return Object(o.a)(a,[{key:"addUpdate",value:function(e){var t=this;void 0!==this.state.id?h.a.put("".concat(J,"v1/api/articles/").concat(this.state.id),e).then((function(e){t.setState({isLoading:!1}),t.props.history.goBack()})):h.a.post("".concat(J,"v1/api/articles"),e).then((function(e){t.setState({isLoading:!1}),t.props.history.goBack()}))}},{key:"addUpdateArticle",value:function(){var e=this;if(this.validate()){var t=new FormData;t.append("FILE",this.state.imageFile),this.setState({isLoading:!0}),h.a.post("".concat(J,"v1/api/uploadfile/single"),t).then((function(t){var a={TITLE:e.state.title,DESCRIPTION:e.state.description,IMAGE:t.data.DATA};e.addUpdate(a)})).catch((function(t){console.log(t);var a={TITLE:e.state.title,DESCRIPTION:e.state.description,IMAGE:e.state.imageURL};e.addUpdate(a)}))}}},{key:"fetchOneArticle",value:function(e){var t=this;h.a.get("".concat(J,"v1/api/articles/").concat(e)).then((function(e){t.setState({title:e.data.DATA.TITLE,description:e.data.DATA.DESCRIPTION,imageURL:e.data.DATA.IMAGE})}))}},{key:"handler",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(F.a)({},t,a))}},{key:"componentWillMount",value:function(){this.setState({id:this.props.match.params.id}),void 0!==this.props.match.params.id&&this.fetchOneArticle(this.props.match.params.id)}},{key:"render",value:function(){var e=this;return r.a.createElement(O.a,null,r.a.createElement("h1",{className:"App my-4"},void 0===this.state.id?I.addNewArtilce:I.updateArticle),r.a.createElement("div",null,this.state.isLoading?r.a.createElement(j.BoxLoading,null):null),r.a.createElement(M.a,null,r.a.createElement(M.a.Group,{controlId:"title"},r.a.createElement(M.a.Label,null,I.title),r.a.createElement(M.a.Control,{type:"text",name:"title",placeholder:"Enter Title",value:this.state.title,onChange:this.handler.bind(this)}),r.a.createElement("div",{style:{color:"red"}},this.state.titleError)),r.a.createElement(M.a.Group,{controlId:"description"},r.a.createElement(M.a.Label,null,I.description),r.a.createElement(M.a.Control,{type:"text",name:"description",placeholder:"Enter Description",value:this.state.description,onChange:this.handler.bind(this)}),r.a.createElement("div",{style:{color:"red"}},this.state.descriptionError)),r.a.createElement(M.a,null,r.a.createElement(M.a.Label,null,I.thumbnail),r.a.createElement(M.a.File,{id:"custom-file",label:"Custom file input",onChange:this.handleFile.bind(this),custom:!0}))," ",r.a.createElement("br",null),r.a.createElement(y.a,{variant:"secondary",size:"lg",onClick:function(){e.addUpdateArticle()}},I.submit)))}}]),a}(n.Component),_=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.props.fetchCategory()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A.a,{className:"App"},r.a.createElement("h1",null,I.category)),r.a.createElement(O.a,null,r.a.createElement(k.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,I.title))),r.a.createElement("tbody",null,this.props.categories.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.ID),r.a.createElement("td",null,e.NAME))}))))))}}]),a}(n.Component),z=Object(m.b)((function(e){return{categories:e.categoryR.categories}}),{fetchCategory:function(){return function(e){h.a.get("".concat(J,"v1/api/categories")).then((function(t){e({type:v,payLoad:t.data.DATA})}))}}})(_),H=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(O.a,{className:"App"},r.a.createElement("h1",null,I.about),r.a.createElement("img",{src:"https://ugc.futurelearn.com/uploads/images/d8/af/d8af6c2e-2762-407e-8914-e24e6d63e258.jpg",width:"100%s"}),r.a.createElement("p",null,"Management is the brain of an enterprise. A manager keeps himself in touch with the current environment and supplies foresight to the enterprise. He helps in predicting what is going to happen in future which will influence the working of an enterprise."))}}]),a}(n.Component),J="http://110.74.194.124:15011/",K=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).changeLanguage=function(e){I.setLanguage(e),n.setState({})},n.changeLanguage.bind(Object(s.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(L.a,null,r.a.createElement("div",null,r.a.createElement(U,{language:this.changeLanguage}),r.a.createElement(G.a,{exact:!0,path:"/",component:T}),r.a.createElement(G.a,{path:"/detail/:id",component:B}),r.a.createElement(G.a,{exact:!0,path:"/addUpdate",component:W}),r.a.createElement(G.a,{path:"/addUpdate/:id",component:W}),r.a.createElement(G.a,{path:"/Category",component:z}),r.a.createElement(G.a,{path:"/About",component:H})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=a(99),$=a(35),q=a(46),Q={articles:[]},X={categories:[]},Y=Object($.c)({articleR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:case f:return Object(q.a)({},e,{articles:t.payLoad});case g:return Object(q.a)({},e,{articles:e.articles.filter((function(e){return e.ID!==t.payLoad}))});default:return e}},categoryR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(q.a)({},e,{categories:t.payLoad});default:return e}}}),Z=[V.a],ee=Object($.e)(Y,Object($.d)($.a.apply(void 0,Z)));c.a.render(r.a.createElement(m.a,{store:ee},r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[104,1,2]]]);
//# sourceMappingURL=main.0c2ac21a.chunk.js.map